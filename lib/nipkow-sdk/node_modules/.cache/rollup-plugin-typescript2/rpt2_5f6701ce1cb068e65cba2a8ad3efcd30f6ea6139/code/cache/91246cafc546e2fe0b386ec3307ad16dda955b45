{"code":"import PouchDB from 'pouchdb-browser';\r\nimport MemoryAdapter from 'pouchdb-adapter-memory';\r\nimport pouchdbFind from 'pouchdb-find';\r\nimport CryptoJS from 'crypto-js';\r\nimport AES from 'crypto-js/aes';\r\nPouchDB.plugin(MemoryAdapter);\r\nPouchDB.plugin(pouchdbFind);\r\nlet profiles;\r\nlet db;\r\nlet credentials;\r\nexport const BIP32_EXTENDED_KEY = 'bip32ExtendedKey';\r\nexport const NUTXO_EXTENDED_KEY = 'nUTXOExtendedKey';\r\n/* Revisit all fn for try-catch error handling */\r\nconst get = async (db, key) => await db.get(key);\r\nconst set = async (db, key, value) => {\r\n    const doc = await db.get(key);\r\n    for (const prop in value) {\r\n        doc[prop] = value[prop];\r\n    }\r\n    await db.put(doc);\r\n};\r\nexport const init = async (dbName) => {\r\n    db = new PouchDB(`${dbName}`, {\r\n        revs_limit: 1,\r\n        auto_compaction: true,\r\n    });\r\n    credentials = new PouchDB('credentials', {\r\n        revs_limit: 1,\r\n        auto_compaction: true,\r\n    });\r\n    await credentials.bulkDocs([\r\n        { _id: BIP32_EXTENDED_KEY, value: null },\r\n        { _id: NUTXO_EXTENDED_KEY, value: null },\r\n    ]);\r\n};\r\n/* Revisit required */\r\nexport const createProfile = async (cryptedMnemonic, profileName) => {\r\n    const newProfile = { cryptedMnemonic, name: profileName };\r\n    try {\r\n        const existingProfiles = await profiles.get('profiles');\r\n        if (existingProfiles &&\r\n            existingProfiles.value &&\r\n            existingProfiles.value instanceof Array) {\r\n            existingProfiles.value = [...existingProfiles.value, newProfile];\r\n            await profiles.put(existingProfiles);\r\n        }\r\n        else {\r\n            await profiles.put({\r\n                _id: 'profiles',\r\n                value: [newProfile],\r\n            });\r\n        }\r\n    }\r\n    catch (error) {\r\n        await profiles.put({\r\n            _id: 'profiles',\r\n            value: [newProfile],\r\n        });\r\n    }\r\n};\r\n/* Revisit required */\r\nexport const updateProfile = async (currentProfileName, newProfileName) => {\r\n    try {\r\n        const existingProfiles = await profiles.get('profiles', {\r\n            revs: true,\r\n        });\r\n        const profileIndex = existingProfiles.value.findIndex((profile) => profile.name === currentProfileName);\r\n        const profilesArray = existingProfiles.value;\r\n        profilesArray[profileIndex].name = newProfileName;\r\n        await profiles.put({\r\n            _id: 'profiles',\r\n            _rev: existingProfiles._rev,\r\n            value: profilesArray,\r\n        });\r\n    }\r\n    catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n/* Revisit required */\r\nexport const getProfiles = async () => {\r\n    try {\r\n        profiles = new PouchDB('Profiles', {\r\n            revs_limit: 1,\r\n            auto_compaction: true,\r\n        });\r\n        const existingProfiles = await profiles.get('profiles');\r\n        if (existingProfiles &&\r\n            existingProfiles.value &&\r\n            existingProfiles.value instanceof Array) {\r\n            const profileNames = existingProfiles.value.map((existingProfile) => existingProfile);\r\n            return profileNames;\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n    catch (error) {\r\n        return [];\r\n    }\r\n};\r\n/* Revisit required */\r\nexport const login = async (profile, password) => {\r\n    const existingProfiles = await getProfiles();\r\n    const selectedProfile = existingProfiles.find((existingProfile) => existingProfile.name === profile);\r\n    if (selectedProfile) {\r\n        const bip39Mnemonic = AES.decrypt(selectedProfile.cryptedMnemonic, password).toString(CryptoJS.enc.Utf8);\r\n        if (bip39Mnemonic) {\r\n            return bip39Mnemonic;\r\n        }\r\n        else {\r\n            throw new Error('Login error');\r\n        }\r\n    }\r\n    else {\r\n        throw new Error(\"Account Doesn't exist\");\r\n    }\r\n};\r\nexport const getBip32ExtendedKey = async () => {\r\n    const bip32ExtendedKeyDoc = await get(credentials, BIP32_EXTENDED_KEY);\r\n    return bip32ExtendedKeyDoc.value;\r\n};\r\nexport const setBip32ExtendedKey = async (value) => await set(credentials, BIP32_EXTENDED_KEY, { value });\r\nexport const getNUTXOExtendedKey = async () => {\r\n    const nUTXOExtendedKeyDoc = await get(credentials, NUTXO_EXTENDED_KEY);\r\n    return nUTXOExtendedKeyDoc.value;\r\n};\r\nexport const setNUTXOExtendedKey = async (value) => await set(credentials, NUTXO_EXTENDED_KEY, { value });\r\nexport const getNUTXODerivedKeys = async () => {\r\n    const response = await db.allDocs({\r\n        include_docs: true,\r\n        startkey: 'nUTXOKey',\r\n        endkey: 'nUTXOKey\\ufff0',\r\n    });\r\n    if (response && response.rows.length > 0) {\r\n        const existingNUTXODerivedKeys = response.rows.map((row) => row.doc);\r\n        return { existingNUTXODerivedKeys };\r\n    }\r\n    else {\r\n        return { existingNUTXODerivedKeys: [] };\r\n    }\r\n};\r\nexport const upsertNUTXODerivedKeys = async (keys) => {\r\n    if (keys.length > 0) {\r\n        const { existingNUTXODerivedKeys } = await getNUTXODerivedKeys();\r\n        let keyId = existingNUTXODerivedKeys.length - 1;\r\n        const docs = keys.map((key, index) => {\r\n            if (!key._id) {\r\n                keyId = keyId + 1;\r\n            }\r\n            return {\r\n                ...key,\r\n                _id: key._id ? key._id : `nUTXOKey-${String(keyId).padStart(20, '0')}`,\r\n            };\r\n        });\r\n        await db.bulkDocs(docs);\r\n    }\r\n};\r\nexport const getDerivedKeys = async () => {\r\n    const response = await db.allDocs({\r\n        include_docs: true,\r\n        startkey: 'key',\r\n        endkey: 'key\\ufff0',\r\n    });\r\n    if (response && response.rows.length > 0) {\r\n        const existingDerivedKeys = response.rows.map((row) => row.doc);\r\n        return { existingDerivedKeys };\r\n    }\r\n    else {\r\n        return { existingDerivedKeys: [] };\r\n    }\r\n};\r\nexport const upsertDerivedKeys = async (keys) => {\r\n    if (keys.length > 0) {\r\n        const { existingDerivedKeys } = await getDerivedKeys();\r\n        let keyId = existingDerivedKeys.length - 1;\r\n        const docs = keys.map((key, index) => {\r\n            if (!key._id) {\r\n                keyId = keyId + 1;\r\n            }\r\n            return {\r\n                ...key,\r\n                _id: key._id ? key._id : `key-${String(keyId).padStart(20, '0')}`,\r\n            };\r\n        });\r\n        await db.bulkDocs(docs);\r\n    }\r\n};\r\nexport const getOutputs = async (options) => {\r\n    const response = await db.allDocs({\r\n        include_docs: true,\r\n        ...options,\r\n        startkey: options?.startkey || 'output',\r\n        endkey: 'output\\ufff0',\r\n        skip: options?.startkey ? 1 : false,\r\n    });\r\n    if (response && response.rows.length > 0) {\r\n        const nextOutputsCursor = response.rows[response.rows.length - 1].id;\r\n        const outputs = response.rows.map((row) => row.doc);\r\n        return { nextOutputsCursor, outputs };\r\n    }\r\n    else {\r\n        return { nextOutputsCursor: null, outputs: [] };\r\n    }\r\n};\r\nexport const markOutputAsUnspent = async (inputs) => {\r\n    const markAsUnspentOutputs = [];\r\n    for (let index = 0; index < inputs.length; index++) {\r\n        const input = inputs[index];\r\n        await db.createIndex({\r\n            index: { fields: ['outputTxHash', 'outputIndex'] },\r\n        });\r\n        const outputDoc = await db.find({\r\n            selector: {\r\n                outputTxHash: { $eq: input.outputTxHash },\r\n                outputIndex: { $eq: input.outputIndex },\r\n            },\r\n        });\r\n        if (outputDoc.docs.length > 0) {\r\n            const unspentOutputs = outputDoc.docs.map((output) => {\r\n                return {\r\n                    ...output,\r\n                    isSpent: false,\r\n                };\r\n            });\r\n            markAsUnspentOutputs.push(...unspentOutputs);\r\n        }\r\n    }\r\n    await db.bulkDocs(markAsUnspentOutputs);\r\n};\r\nexport const upsertOutputs = async (outputs) => {\r\n    if (outputs.length > 0) {\r\n        const { outputs: existingOutputs } = await getOutputs();\r\n        if (existingOutputs.length > 0) {\r\n        }\r\n        else {\r\n        }\r\n        let outputId = existingOutputs.length - 1;\r\n        const docs = outputs.map((output, index) => {\r\n            if (!output._id) {\r\n                outputId = outputId + 1;\r\n            }\r\n            return {\r\n                ...output,\r\n                isSpent: output.isSpent\r\n                    ? output.isSpent\r\n                    : output.spendInfo\r\n                        ? true\r\n                        : false,\r\n                _id: output._id\r\n                    ? output._id\r\n                    : `output-${String(outputId).padStart(20, '0')}`,\r\n            };\r\n        });\r\n        await db.bulkDocs(docs);\r\n    }\r\n};\r\n/* _rev change case */\r\nexport const updateOutputs = async (outputs) => {\r\n    const updateDoc = [];\r\n    for (let index = 0; index < outputs.length; index++) {\r\n        const element = outputs[index];\r\n        const outputDoc = await db.get(element._id);\r\n        updateDoc.push({ ...element, _rev: outputDoc._rev });\r\n    }\r\n    try {\r\n        const results = await db.bulkDocs(updateDoc);\r\n        results.forEach((result) => {\r\n            if (result.error) {\r\n                throw new Error('Error in updating outputs');\r\n            }\r\n        });\r\n    }\r\n    catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n/* No _id, _rev change case */\r\nexport const deleteOutputs = async (outputs) => {\r\n    const deletedOutputs = [];\r\n    for (let index = 0; index < outputs.length; index++) {\r\n        const output = outputs[index];\r\n        await db.createIndex({\r\n            index: { fields: ['outputTxHash', 'outputIndex'] },\r\n        });\r\n        const outputDoc = await db.find({\r\n            selector: {\r\n                outputTxHash: { $eq: output.outputTxHash },\r\n                outputIndex: { $eq: output.outputIndex },\r\n            },\r\n        });\r\n        if (outputDoc.docs.length > 0) {\r\n            const deletedOutput = outputDoc.docs.map((output) => {\r\n                return {\r\n                    ...output,\r\n                    _deleted: true,\r\n                };\r\n            });\r\n            deletedOutputs.push(...deletedOutput);\r\n        }\r\n    }\r\n    await db.bulkDocs(deletedOutputs);\r\n};\r\nexport const isInOutputs = async (output) => {\r\n    await db.createIndex({\r\n        index: { fields: ['outputTxHash', 'outputIndex'] },\r\n    });\r\n    const outputDoc = await db.find({\r\n        selector: {\r\n            outputTxHash: { $eq: output.outputTxHash },\r\n            outputIndex: { $eq: output.outputIndex },\r\n        },\r\n    });\r\n    if (outputDoc.docs.length > 0)\r\n        return true;\r\n    return false;\r\n};\r\nexport const getTransactions = async (options) => {\r\n    const response = await db.allDocs({\r\n        include_docs: true,\r\n        ...options,\r\n        descending: true,\r\n        endkey: 'transaction',\r\n        // endkey: 'transaction\\ufff0',\r\n        startkey: options?.startkey || 'transaction\\ufff0',\r\n        skip: options?.startkey ? 1 : false,\r\n    });\r\n    if (response && response.rows.length > 0) {\r\n        let nextTransactionCursor;\r\n        if (response.rows.length === options?.limit) {\r\n            nextTransactionCursor = response.rows[response.rows.length - 1].id;\r\n        }\r\n        else {\r\n            nextTransactionCursor = null;\r\n        }\r\n        const transactions = response.rows.map((row) => row.doc);\r\n        return { nextTransactionCursor, transactions };\r\n    }\r\n    else {\r\n        return { nextTransactionCursor: null, transactions: [] };\r\n    }\r\n};\r\nexport const getTransactionsByConfirmations = async (options) => {\r\n    await db.createIndex({\r\n        index: { fields: ['confirmation'] },\r\n    });\r\n    const transactionDocs = await db.find({\r\n        selector: {\r\n            $and: [\r\n                { confirmation: { $lte: 10 } },\r\n                { confirmation: { $exists: true } },\r\n            ],\r\n        },\r\n    });\r\n    if (transactionDocs.docs.length > 0)\r\n        return { transactions: transactionDocs.docs };\r\n    return { transactions: [] };\r\n};\r\nexport const upsertTransactions = async (transactions) => {\r\n    if (transactions.length > 0) {\r\n        const { transactions: existingTransactions } = await getTransactions();\r\n        let txId = existingTransactions.length - 1;\r\n        const docs = transactions\r\n            .reverse()\r\n            .map((transaction, index) => {\r\n            if (!transaction._id) {\r\n                txId = txId + 1;\r\n            }\r\n            return {\r\n                ...transaction,\r\n                _id: transaction._id\r\n                    ? transaction._id\r\n                    : `transaction-${String(txId).padStart(20, '0')}`,\r\n            };\r\n        });\r\n        await db.bulkDocs(docs);\r\n    }\r\n};\r\n// export const getUnconfirmedTransactions = async () => {\r\n//   await db.createIndex({\r\n//     index: { fields: ['confirmation'] },\r\n//   });\r\n//   const outputDoc = await db.find({\r\n//     selector: {\r\n//       confirmation: { $eq: null },\r\n//     },\r\n//   });\r\n//   if (outputDoc.docs.length > 0)\r\n//     return { unconfirmedTransactions: outputDoc.docs };\r\n//   return { unconfirmedTransactions: [] };\r\n// };\r\n// export const upsertUnconfirmedTransactions = async (transactions: any[]) => {\r\n//   if (transactions.length > 0) {\r\n//     const {\r\n//       unconfirmedTransactions: existingUnconfirmedTransactions,\r\n//     } = await getUnconfirmedTransactions();\r\n//     let txId = existingUnconfirmedTransactions.length - 1;\r\n//     const docs = transactions.map((transaction: any, index: number) => {\r\n//       if (!transaction._id) {\r\n//         txId = txId + 1;\r\n//       }\r\n//       return {\r\n//         ...transaction,\r\n//         _id: transaction._id\r\n//           ? transaction._id\r\n//           : `unconfirmedTransaction-${String(txId).padStart(20, '0')}`,\r\n//       };\r\n//     });\r\n//     await db.bulkDocs(docs);\r\n//   }\r\n// };\r\n/* No _rev case */\r\nexport const deleteTransactions = async (transactions) => {\r\n    const updatedDoc = [];\r\n    for (let index = 0; index < transactions.length; index++) {\r\n        const transaction = transactions[index];\r\n        const transactionDoc = await db.get(transaction._id);\r\n        updatedDoc.push({\r\n            ...transaction,\r\n            _rev: transactionDoc._rev,\r\n            _deleted: true,\r\n        });\r\n    }\r\n    try {\r\n        const results = await db.bulkDocs(updatedDoc);\r\n        results.forEach((result) => {\r\n            if (result.error) {\r\n                throw new Error('Error in updating transactions');\r\n            }\r\n        });\r\n    }\r\n    catch (error) {\r\n        throw error;\r\n    }\r\n};\r\nexport const markAddressesUsed = async (addresses) => {\r\n    if (addresses.length > 0) {\r\n        const { existingDerivedKeys } = await getDerivedKeys();\r\n        const matchedDerivedKeys = existingDerivedKeys.filter((key, index) => {\r\n            return addresses.includes(key.address);\r\n        });\r\n        const docs = matchedDerivedKeys.map((key, index) => {\r\n            return {\r\n                ...key,\r\n                isUsed: true,\r\n            };\r\n        });\r\n        await db.bulkDocs(docs);\r\n    }\r\n};\r\nexport const getUTXOs = async (options) => {\r\n    await db.createIndex({\r\n        index: { fields: ['isSpent', 'isNameOutpoint'] },\r\n    });\r\n    const outputDoc = await db.find({\r\n        selector: {\r\n            isSpent: { $eq: false },\r\n            isNameOutpoint: { $exists: false },\r\n        },\r\n    });\r\n    if (outputDoc.docs.length > 0)\r\n        return { utxos: outputDoc.docs };\r\n    return { utxos: [] };\r\n};\r\nexport const getNUtxo = async (name) => {\r\n    await db.createIndex({\r\n        index: { fields: ['isSpent', 'name'] },\r\n    });\r\n    const outputDoc = await db.find({\r\n        selector: {\r\n            // isSpent: { $eq: false },\r\n            name: name,\r\n        },\r\n    });\r\n    if (outputDoc.docs.length > 0)\r\n        return { nUTXOs: outputDoc.docs[0] };\r\n    return { nUTXOs: null };\r\n};\r\nexport const getUnregisteredName = async () => {\r\n    await db.createIndex({\r\n        index: { fields: ['isSpent', 'isNameOutpoint'] },\r\n    });\r\n    const outputDoc = await db.find({\r\n        selector: {\r\n            isSpent: { $eq: false },\r\n            isNameOutpoint: { $exists: true },\r\n        },\r\n    });\r\n    if (outputDoc.docs.length > 0) {\r\n        return { names: outputDoc.docs.map((doc) => doc.name) };\r\n    }\r\n    return { names: [] };\r\n};\r\nexport const destroy = async () => {\r\n    try {\r\n        await db.viewCleanup();\r\n        await credentials.destroy();\r\n        db = null;\r\n        credentials = null;\r\n        return true;\r\n    }\r\n    catch (error) {\r\n        throw error;\r\n    }\r\n};\r\n//# sourceMappingURL=Persist.js.map","references":["/home/xkn/Desktop/integration/nipkow/lib/nipkow-sdk/node_modules/@types/pouchdb-browser/index.d.ts","/home/xkn/Desktop/integration/nipkow/lib/nipkow-sdk/node_modules/@types/pouchdb-adapter-memory/index.d.ts","/home/xkn/Desktop/integration/nipkow/lib/nipkow-sdk/node_modules/@types/pouchdb-find/index.d.ts","/home/xkn/Desktop/integration/nipkow/lib/nipkow-sdk/node_modules/@types/crypto-js/index.d.ts","/home/xkn/Desktop/integration/nipkow/lib/nipkow-sdk/node_modules/@types/crypto-js/aes/index.d.ts"],"map":"{\"version\":3,\"file\":\"Persist.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/Persist.ts\"],\"names\":[],\"mappings\":\"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\"}"}
